---
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";

export async function getStaticPaths() {
    const allProjects = await getCollection('projects');
    return allProjects.map((project: any) => ({
        params: { slug: project.slug },
        props: { project },
    }))
}

const { project } = Astro.props;
---

<BaseLayout>
    <article>
        <h1>{project.data.title}</h1>
        <p>{project.data.description}</p>
        <div set:html={project.body}></div>
        <p><a href=".">Go Back</a></p>
    </article>
</BaseLayout>